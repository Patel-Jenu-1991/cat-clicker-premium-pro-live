"use strict";var model={catList:["chewie","kathy","kitties","liza","lilly","xuca"],cats:[],displayCat:null,init:function(){var t=!0,e=!1,a=void 0;try{for(var i,n=model.catList[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var c=i.value;model.cats.push({name:c,imgUrl:"img/"+c+".jpg",imgAttr:"https://images.google.com?q=cats+"+c+"%2Ejpg",clicks:0})}}catch(t){e=!0,a=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw a}}}},octopus={init:function(){model.init(),model.displayCat=model.cats[0],listView.init(),catView.init(),adminView.init()},getCatList:function(){return model.catList},getCats:function(){return model.cats},getDisplayCat:function(){return model.displayCat},renderDisplayCat:function(){catView.render()},setDisplayCat:function(t){model.displayCat=model.cats[Number(t)]},incrementClicks:function(){model.displayCat.clicks++},manageSaveEvent:function(){var t={name:adminView.catName.value,clicks:adminView.catClicks.value,imgAttr:adminView.catAttr.value},e=t.name,a=t.clicks,i=t.imgAttr,n={validateName:null===e.match(/^[A-Za-z]{3,}$/g),validateClicks:null===a.match(/^[0-9]{1,}$/),validateUrl:null===i.match(/https?:\/\/.+/g)},c=n.validateName,l=n.validateClicks,o=n.validateUrl;""===e||""===a||""===i?(adminView.adminError.textContent="",adminView.adminError.textContent="Error: Form not complete!!"):c||l||o?(adminView.adminError.textContent="",adminView.adminError.textContent="Error: Form did not validate!",octopus.toggleAdminPanel(!0)):(adminView.adminError.textContent="",octopus.updateCatData(e,Number(a),i),octopus.toggleAdminPanel(!1))},updateCatData:function(t,e,a){t=t.toLowerCase();var i=document.querySelector("#"+model.displayCat.name+"-item");model.displayCat.name=t,model.displayCat.clicks=e,model.displayCat.imgAttr=a,catView.catDisplayName.textContent="",catView.catDisplayName.textContent=t,catView.catClicks.textContent="",catView.catClicks.textContent=t+" clicks: "+e,i.setAttribute("id",""),i.setAttribute("id",t+"-item"),i.textContent="",i.textContent=t,console.log(i)},toggleAdminPanel:function(t){adminView.adminForm.style.visibility=t?"visible":"hidden"},renderAdminForm:function(){adminView.render()}},listView={menu:null,init:function(){listView.menu=document.querySelector(".cat-menu"),listView.render(),listView.handleClicks()},render:function(){var t=octopus.getCatList(),e=0,a=!0,i=!1,n=void 0;try{for(var c,l=t[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var o=c.value,r=document.createElement("LI");r.setAttribute("class","cat-name"),r.setAttribute("data-cat",""+e),r.setAttribute("id",o+"-item"),r.textContent=o,listView.menu.appendChild(r),e++}}catch(t){i=!0,n=t}finally{try{!a&&l.return&&l.return()}finally{if(i)throw n}}},handleClicks:function(){listView.menu.addEventListener("click",function(t){var e=t.target.dataset.cat;e&&(octopus.setDisplayCat(e),octopus.renderDisplayCat(),octopus.toggleAdminPanel(!1))})}},catView={catClicks:null,catDisplayName:null,catContainer:null,catImage:null,init:function(){catView.catClicks=document.querySelector(".cat-clicks"),catView.catDisplayName=document.querySelector(".cat-display-name"),catView.catContainer=document.querySelector(".cat-container"),catView.catImage=document.createElement("IMG"),catView.catImage.setAttribute("class","cat-image"),catView.render(),catView.handleClicks()},render:function(){var t=octopus.getDisplayCat();catView.catDisplayName.textContent=t.name,catView.catClicks.textContent=t.name+" clicks: "+t.clicks,catView.catImage.setAttribute("src",""),catView.catImage.setAttribute("id",""),catView.catImage.setAttribute("alt",""),catView.catImage.setAttribute("src",t.imgUrl),catView.catImage.setAttribute("id",t.name),catView.catImage.setAttribute("alt",t.name+" the cat on Display!"),catView.catContainer.appendChild(catView.catImage)},handleClicks:function(){catView.catContainer.addEventListener("click",function(t){var e=t.target.id,a=octopus.getDisplayCat();e&&(octopus.incrementClicks(),catView.catClicks.textContent=e+" clicks: "+a.clicks)})}},adminView={admin:null,catName:null,catUrl:null,catClicks:null,adminCancel:null,adminSave:null,adminForm:null,adminError:null,init:function(){adminView.admin=document.querySelector("#admin"),adminView.catName=document.querySelector("#cat-name"),adminView.catAttr=document.querySelector("#cat-img-url"),adminView.catClicks=document.querySelector("#cat-admin-clicks"),adminView.adminCancel=document.querySelector("#admin-cancel"),adminView.adminSave=document.querySelector("#admin-save"),adminView.adminForm=document.querySelector(".admin-form"),adminView.adminError=document.querySelector(".error-message"),octopus.toggleAdminPanel(!1),adminView.handleAdminFormEvent(),adminView.handleAdminEvent(),adminView.handleCancelEvent(),adminView.handleSaveEvent()},handleAdminFormEvent:function(){adminView.adminForm.addEventListener("submit",function(t){t.preventDefault()}),adminView.adminForm.addEventListener("keydown",function(t){13===t.which&&t.preventDefault()})},handleAdminEvent:function(){adminView.admin.addEventListener("click",function(t){octopus.renderAdminForm(),t.preventDefault()})},handleCancelEvent:function(){adminView.adminCancel.addEventListener("click",function(t){adminView.adminError.textContent="",octopus.toggleAdminPanel(!1),t.preventDefault()})},handleSaveEvent:function(){adminView.adminSave.addEventListener("click",function(t){octopus.manageSaveEvent(),t.preventDefault()})},render:function(){var t=octopus.getDisplayCat();adminView.catName.value=t.name,adminView.catClicks.value=t.clicks,adminView.catAttr.value=t.imgAttr,octopus.toggleAdminPanel(!0)}};octopus.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kZWwiLCJjYXRMaXN0IiwiY2F0cyIsImRpc3BsYXlDYXQiLCJpbml0IiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJjYXQiLCJ2YWx1ZSIsInB1c2giLCJuYW1lIiwiaW1nVXJsIiwiaW1nQXR0ciIsImNsaWNrcyIsImVyciIsInJldHVybiIsIm9jdG9wdXMiLCJsaXN0VmlldyIsImNhdFZpZXciLCJhZG1pblZpZXciLCJnZXRDYXRMaXN0IiwiZ2V0Q2F0cyIsImdldERpc3BsYXlDYXQiLCJyZW5kZXJEaXNwbGF5Q2F0IiwicmVuZGVyIiwic2V0RGlzcGxheUNhdCIsIk51bWJlciIsImluY3JlbWVudENsaWNrcyIsIm1hbmFnZVNhdmVFdmVudCIsIl9uYW1lJGNsaWNrcyRpbWdBdHRyIiwiY2F0TmFtZSIsImNhdENsaWNrcyIsImNhdEF0dHIiLCJfdmFsaWRhdGVOYW1lJHZhbGlkYXQiLCJ2YWxpZGF0ZU5hbWUiLCJtYXRjaCIsInZhbGlkYXRlQ2xpY2tzIiwidmFsaWRhdGVVcmwiLCJhZG1pbkVycm9yIiwidGV4dENvbnRlbnQiLCJ0b2dnbGVBZG1pblBhbmVsIiwidXBkYXRlQ2F0RGF0YSIsInRvTG93ZXJDYXNlIiwibGlzdEl0ZW0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjYXREaXNwbGF5TmFtZSIsInNldEF0dHJpYnV0ZSIsImNvbnNvbGUiLCJsb2ciLCJ2aXNpYmxlIiwiYWRtaW5Gb3JtIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwicmVuZGVyQWRtaW5Gb3JtIiwibWVudSIsImhhbmRsZUNsaWNrcyIsImkiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJUQVJHRVQiLCJ0YXJnZXQiLCJkYXRhc2V0IiwiY2F0Q29udGFpbmVyIiwiY2F0SW1hZ2UiLCJpZCIsImFkbWluIiwiY2F0VXJsIiwiYWRtaW5DYW5jZWwiLCJhZG1pblNhdmUiLCJoYW5kbGVBZG1pbkZvcm1FdmVudCIsImhhbmRsZUFkbWluRXZlbnQiLCJoYW5kbGVDYW5jZWxFdmVudCIsImhhbmRsZVNhdmVFdmVudCIsInByZXZlbnREZWZhdWx0Iiwid2hpY2giXSwibWFwcGluZ3MiOiJBQUFBLGFBSUEsSUFBSUEsTUFBUSxDQUNWQyxRQUFTLENBQUMsU0FBVSxRQUFTLFVBQVcsT0FBUSxRQUFTLFFBQ3pEQyxLQUFNLEdBQ05DLFdBQVksS0FFWkMsS0FBTSxXQUFNLElBQUFDLEdBQUEsRUFBQUMsR0FBQSxFQUFBQyxPQUFBQyxFQUFBLElBQ1YsSUFBQSxJQUFBQyxFQUFBQyxFQUFrQlYsTUFBTUMsUUFBeEJVLE9BQUFDLGNBQUFQLEdBQUFJLEVBQUFDLEVBQUFHLFFBQUFDLE1BQUFULEdBQUEsRUFBaUMsQ0FBQSxJQUF0QlUsRUFBc0JOLEVBQUFPLE1BQy9CaEIsTUFBTUUsS0FBS2UsS0FBSyxDQUNkQyxLQUFNSCxFQUNOSSxPQUFBQSxPQUFlSixFQUFmLE9BQ0FLLFFBQUFBLG9DQUE2Q0wsRUFBN0MsU0FDQU0sT0FBUSxLQU5GLE1BQUFDLEdBQUFoQixHQUFBLEVBQUFDLEVBQUFlLEVBQUEsUUFBQSxLQUFBakIsR0FBQUssRUFBQWEsUUFBQWIsRUFBQWEsU0FBQSxRQUFBLEdBQUFqQixFQUFBLE1BQUFDLE1BWVZpQixRQUFVLENBQ1pwQixLQUFNLFdBQ0pKLE1BQU1JLE9BQ05KLE1BQU1HLFdBQWFILE1BQU1FLEtBQUssR0FDOUJ1QixTQUFTckIsT0FDVHNCLFFBQVF0QixPQUNSdUIsVUFBVXZCLFFBR1p3QixXQUFZLFdBQ1YsT0FB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WUFBYyxHQUNuQ3ZCLFFBQVF3QixrQkFBaUIsR0FDekIwQixFQUFNZSxvQkFJVkQsZ0JBQWlCLFdBQ2Y3RCxVQUFVeUQsVUFBVVgsaUJBQWlCLFFBQVMsU0FBQ0MsR0FDN0NsRCxRQUFRWSxrQkFDUnNDLEVBQU1lLG9CQUlWekQsT0FBUSxXQUNOLElBQU1qQixFQUFNUyxRQUFRTSxnQkFDcEJILFVBQVVXLFFBQVF0QixNQUFRRCxFQUFJRyxLQUM5QlMsVUFBVVksVUFBVXZCLE1BQVFELEVBQUlNLE9BQ2hDTSxVQUFVYSxRQUFReEIsTUFBUUQsRUFBSUssUUFDOUJJLFFBQVF3QixrQkFBaUIsS0FJN0J4QixRQUFRcEIiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG5sZXQgbW9kZWwgPSB7XG4gIGNhdExpc3Q6IFsnY2hld2llJywgJ2thdGh5JywgJ2tpdHRpZXMnLCAnbGl6YScsICdsaWxseScsICd4dWNhJ10sXG4gIGNhdHM6IFtdLFxuICBkaXNwbGF5Q2F0OiBudWxsLFxuICBcbiAgaW5pdDogKCkgPT4ge1xuICAgIGZvciAoY29uc3QgY2F0IG9mIG1vZGVsLmNhdExpc3QpIHtcbiAgICAgIG1vZGVsLmNhdHMucHVzaCh7XG4gICAgICAgIG5hbWU6IGNhdCxcbiAgICAgICAgaW1nVXJsOiBgaW1nLyR7Y2F0fS5qcGdgLFxuICAgICAgICBpbWdBdHRyOiBgaHR0cHM6Ly9pbWFnZXMuZ29vZ2xlLmNvbT9xPWNhdHMrJHtjYXR9JTJFanBnYCxcbiAgICAgICAgY2xpY2tzOiAwXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG5cbmxldCBvY3RvcHVzID0ge1xuICBpbml0OiAoKSA9PiB7XG4gICAgbW9kZWwuaW5pdCgpO1xuICAgIG1vZGVsLmRpc3BsYXlDYXQgPSBtb2RlbC5jYXRzWzBdO1xuICAgIGxpc3RWaWV3LmluaXQoKTtcbiAgICBjYXRWaWV3LmluaXQoKTtcbiAgICBhZG1pblZpZXcuaW5pdCgpO1xuICB9LFxuXG4gIGdldENhdExpc3Q6ICgpID0+IHtcbiAgICByZXR1cm4gbW9kZWwuY2F0TGlzdDtcbiAgfSxcblxuICBnZXRDYXRzOiAoKSA9PiB7XG4gICAgcmV0dXJuIG1vZGVsLmNhdHM7XG4gIH0sXG5cbiAgZ2V0RGlzcGxheUNhdDogKCkgPT4ge1xuICAgIHJldHVybiBtb2RlbC5kaXNwbGF5Q2F0O1xuICB9LFxuXG4gIHJlbmRlckRpc3BsYXlDYXQ6ICgpID0+IHtcbiAgICBjYXRWaWV3LnJlbmRlcigpO1xuICB9LFxuXG4gIHNldERpc3BsYXlDYXQ6IChjYXQpID0+IHtcbiAgICBtb2RlbC5kaXNwbGF5Q2F0ID0gbW9kZWwuY2F0c1tOdW1iZXIoY2F0KV07XG4gIH0sXG5cbiAgaW5jcmVtZW50Q2xpY2tzOiAoKSA9PiB7XG4gICAgbW9kZWwuZGlzcGxheUNhdC5jbGlja3MrKztcbiAgfSxcblxuICBtYW5hZ2VTYXZlRXZlbnQ6ICgpID0+IHtcbiAgICBjb25zdCB7bmFtZSwgY2xpY2tzLCBpbWdBdHRyfSA9IHtcbiAgICAgIG5hbWU6IGFkbWluVmlldy5jYXROYW1lLnZhbHVlLFxuICAgICAgY2xpY2tzOiBhZG1pblZpZXcuY2F0Q2xpY2tzLnZhbHVlLFxuICAgICAgaW1nQXR0cjogYWRtaW5WaWV3LmNhdEF0dHIudmFsdWVcbiAgICB9O1xuXG4gICAgY29uc3Qge3ZhbGlkYXRlTmFtZSwgdmFsaWRhdGVDbGlja3MsIHZhbGlkYXRlVXJsfSA9IHtcbiAgICAgIHZhbGlkYXRlTmFtZTogbmFtZS5tYXRjaCgvXltBLVphLXpdezMsfSQvZykgPT09IG51bGwsXG4gICAgICB2YWxpZGF0ZUNsaWNrczogY2xpY2tzLm1hdGNoKC9eWzAtOV17MSx9JC8pID09PSBudWxsLFxuICAgICAgdmFsaWRhdGVVcmw6IGltZ0F0dHIubWF0Y2goL2h0dHBzPzpcXC9cXC8uKy9nKSA9PT0gbnVsbFxuICAgIH07XG5cbiAgICBpZiAobmFtZSA9PT0gJycgfHwgY2xpY2tzID09PSAnJyB8fCBpbWdBdHRyID09PSAnJykge1xuICAgICAgYWRtaW5WaWV3LmFkbWluRXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIGFkbWluVmlldy5hZG1pbkVycm9yLnRleHRDb250ZW50ID0gJ0Vycm9yOiBGb3JtIG5vdCBjb21wbGV0ZSEhJztcbiAgICB9IGVsc2UgaWYgKHZhbGlkYXRlTmFtZSB8fCB2YWxpZGF0ZUNsaWNrcyB8fCB2YWxpZGF0ZVVybCkge1xuICAgICAgYWRtaW5WaWV3LmFkbWluRXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIGFkbWluVmlldy5hZG1pbkVycm9yLnRleHRDb250ZW50ID0gJ0Vycm9yOiBGb3JtIGRpZCBub3QgdmFsaWRhdGUhJztcbiAgICAgIG9jdG9wdXMudG9nZ2xlQWRtaW5QYW5lbCh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWRtaW5WaWV3LmFkbWluRXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIG9jdG9wdXMudXBkYXRlQ2F0RGF0YShuYW1lLCBOdW1iZXIoY2xpY2tzKSwgaW1nQXR0cik7XG4gICAgICBvY3RvcHVzLnRvZ2dsZUFkbWluUGFuZWwoZmFsc2UpO1xuICAgIH1cbiAgfSxcblxuICB1cGRhdGVDYXREYXRhOiAobmFtZSwgY2xpY2tzLCBpbWdBdHRyKSA9PiB7XG4gICAgbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBsaXN0SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke21vZGVsLmRpc3BsYXlDYXQubmFtZX0taXRlbWApO1xuICAgIG1vZGVsLmRpc3BsYXlDYXQubmFtZSA9IG5hbWU7XG4gICAgbW9kZWwuZGlzcGxheUNhdC5jbGlja3MgPSBjbGlja3M7XG4gICAgbW9kZWwuZGlzcGxheUNhdC5pbWdBdHRyID0gaW1nQXR0cjtcbiAgICBjYXRWaWV3LmNhdERpc3BsYXlOYW1lLnRleHRDb250ZW50ID0gJyc7XG4gICAgY2F0Vmlldy5jYXREaXNwbGF5TmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgY2F0Vmlldy5jYXRDbGlja3MudGV4dENvbnRlbnQgPSAnJztcbiAgICBjYXRWaWV3LmNhdENsaWNrcy50ZXh0Q29udGVudCA9IGAke25hbWV9IGNsaWNrczogJHtjbGlja3N9YDtcbiAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2lkJywgJycpO1xuICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnaWQnLCBgJHtuYW1lfS1pdGVtYCk7XG4gICAgbGlzdEl0ZW0udGV4dENvbnRlbnQgPSAnJztcbiAgICBsaXN0SXRlbS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgY29uc29sZS5sb2cobGlzdEl0ZW0pO1xuICB9LFxuXG4gIHRvZ2dsZUFkbWluUGFuZWw6ICh2aXNpYmxlKSA9PiB7XG4gICAgKHZpc2libGUpID8gYWRtaW5WaWV3LmFkbWluRm9ybS5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCIgOlxuICAgICAgYWRtaW5WaWV3LmFkbWluRm9ybS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgfSxcblxuICByZW5kZXJBZG1pbkZvcm06ICgpID0+IHtcbiAgICBhZG1pblZpZXcucmVuZGVyKCk7XG4gIH1cbn07XG5cblxubGV0IGxpc3RWaWV3ID0ge1xuICBtZW51OiBudWxsLFxuXG4gIGluaXQ6ICgpID0+IHtcbiAgICBsaXN0Vmlldy5tZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdC1tZW51Jyk7XG4gICAgbGlzdFZpZXcucmVuZGVyKCk7XG4gICAgbGlzdFZpZXcuaGFuZGxlQ2xpY2tzKCk7XG4gIH0sXG5cbiAgcmVuZGVyOiAoKSA9PiB7XG4gICAgY29uc3QgY2F0TGlzdCA9IG9jdG9wdXMuZ2V0Q2F0TGlzdCgpO1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKGNvbnN0IGNhdCBvZiBjYXRMaXN0KSB7XG4gICAgICBjb25zdCBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0xJJyk7XG4gICAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NhdC1uYW1lJyk7XG4gICAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtY2F0JywgYCR7aX1gKTtcbiAgICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnaWQnLCBgJHtjYXR9LWl0ZW1gKTtcbiAgICAgIGxpc3RJdGVtLnRleHRDb250ZW50ID0gY2F0O1xuICAgICAgbGlzdFZpZXcubWVudS5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XG4gICAgICBpKys7XG4gICAgfVxuICB9LFxuXG4gIGhhbmRsZUNsaWNrczogKCkgPT4ge1xuICAgIGxpc3RWaWV3Lm1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IFRBUkdFVCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmNhdDtcbiAgICAgIGlmIChUQVJHRVQpIHtcbiAgICAgICAgb2N0b3B1cy5zZXREaXNwbGF5Q2F0KFRBUkdFVCk7XG4gICAgICAgIG9jdG9wdXMucmVuZGVyRGlzcGxheUNhdCgpO1xuICAgICAgICBvY3RvcHVzLnRvZ2dsZUFkbWluUGFuZWwoZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG5sZXQgY2F0VmlldyA9IHtcbiAgY2F0Q2xpY2tzOiBudWxsLFxuICBjYXREaXNwbGF5TmFtZTogbnVsbCxcbiAgY2F0Q29udGFpbmVyOiBudWxsLFxuICBjYXRJbWFnZTogbnVsbCxcblxuICBpbml0OiAoKSA9PiB7XG4gICAgY2F0Vmlldy5jYXRDbGlja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0LWNsaWNrcycpO1xuICAgIGNhdFZpZXcuY2F0RGlzcGxheU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0LWRpc3BsYXktbmFtZScpO1xuICAgIGNhdFZpZXcuY2F0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdC1jb250YWluZXInKTtcbiAgICBjYXRWaWV3LmNhdEltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnSU1HJyk7XG4gICAgY2F0Vmlldy5jYXRJbWFnZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NhdC1pbWFnZScpO1xuICAgIGNhdFZpZXcucmVuZGVyKCk7XG4gICAgY2F0Vmlldy5oYW5kbGVDbGlja3MoKTtcbiAgfSxcblxuICByZW5kZXI6ICgpID0+IHtcbiAgICBjb25zdCBjYXQgPSBvY3RvcHVzLmdldERpc3BsYXlDYXQoKTtcbiAgICBjYXRWaWV3LmNhdERpc3BsYXlOYW1lLnRleHRDb250ZW50ID0gY2F0Lm5hbWU7XG4gICAgY2F0Vmlldy5jYXRDbGlja3MudGV4dENvbnRlbnQgPSBgJHtjYXQubmFtZX0gY2xpY2tzOiAke2NhdC5jbGlja3N9YDtcbiAgICBjYXRWaWV3LmNhdEltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgJycpO1xuICAgIGNhdFZpZXcuY2F0SW1hZ2Uuc2V0QXR0cmlidXRlKCdpZCcsICcnKTtcbiAgICBjYXRWaWV3LmNhdEltYWdlLnNldEF0dHJpYnV0ZSgnYWx0JywgJycpO1xuICAgIGNhdFZpZXcuY2F0SW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBjYXQuaW1nVXJsKTtcbiAgICBjYXRWaWV3LmNhdEltYWdlLnNldEF0dHJpYnV0ZSgnaWQnLCBjYXQubmFtZSk7XG4gICAgY2F0Vmlldy5jYXRJbWFnZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsIGAke2NhdC5uYW1lfSB0aGUgY2F0IG9uIERpc3BsYXkhYCk7XG4gICAgY2F0Vmlldy5jYXRDb250YWluZXIuYXBwZW5kQ2hpbGQoY2F0Vmlldy5jYXRJbWFnZSk7XG4gIH0sXG5cbiAgaGFuZGxlQ2xpY2tzOiAoKSA9PiB7XG4gICAgY2F0Vmlldy5jYXRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IFRBUkdFVCA9IGV2ZW50LnRhcmdldC5pZCxcbiAgICAgICAgY2F0ID0gb2N0b3B1cy5nZXREaXNwbGF5Q2F0KCk7XG4gICAgICBpZiAoVEFSR0VUKSB7XG4gICAgICAgIG9jdG9wdXMuaW5jcmVtZW50Q2xpY2tzKCk7XG4gICAgICAgIGNhdFZpZXcuY2F0Q2xpY2tzLnRleHRDb250ZW50ID0gYCR7VEFSR0VUfSBjbGlja3M6ICR7Y2F0LmNsaWNrc31gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG5sZXQgYWRtaW5WaWV3ID0ge1xuICBhZG1pbjogbnVsbCxcbiAgY2F0TmFtZTogbnVsbCxcbiAgY2F0VXJsOiBudWxsLFxuICBjYXRDbGlja3M6IG51bGwsXG4gIGFkbWluQ2FuY2VsOiBudWxsLFxuICBhZG1pblNhdmU6IG51bGwsXG4gIGFkbWluRm9ybTogbnVsbCxcbiAgYWRtaW5FcnJvcjogbnVsbCxcblxuICBpbml0OiAoKSA9PiB7XG4gICAgYWRtaW5WaWV3LmFkbWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkbWluJyk7XG4gICAgYWRtaW5WaWV3LmNhdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2F0LW5hbWUnKTtcbiAgICBhZG1pblZpZXcuY2F0QXR0ciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXQtaW1nLXVybCcpO1xuICAgIGFkbWluVmlldy5jYXRDbGlja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2F0LWFkbWluLWNsaWNrcycpO1xuICAgIGFkbWluVmlldy5hZG1pbkNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZG1pbi1jYW5jZWwnKTtcbiAgICBhZG1pblZpZXcuYWRtaW5TYXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkbWluLXNhdmUnKTtcbiAgICBhZG1pblZpZXcuYWRtaW5Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkbWluLWZvcm0nKTtcbiAgICBhZG1pblZpZXcuYWRtaW5FcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci1tZXNzYWdlJyk7XG4gICAgb2N0b3B1cy50b2dnbGVBZG1pblBhbmVsKGZhbHNlKTtcbiAgICBhZG1pblZpZXcuaGFuZGxlQWRtaW5Gb3JtRXZlbnQoKTtcbiAgICBhZG1pblZpZXcuaGFuZGxlQWRtaW5FdmVudCgpO1xuICAgIGFkbWluVmlldy5oYW5kbGVDYW5jZWxFdmVudCgpO1xuICAgIGFkbWluVmlldy5oYW5kbGVTYXZlRXZlbnQoKTtcbiAgfSxcblxuICBoYW5kbGVBZG1pbkZvcm1FdmVudDogKCkgPT4ge1xuICAgIGFkbWluVmlldy5hZG1pbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIGFkbWluVmlldy5hZG1pbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgKGV2ZW50LndoaWNoID09PSAxMykgJiYgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgfSxcblxuICBoYW5kbGVBZG1pbkV2ZW50OiAoKSA9PiB7XG4gICAgYWRtaW5WaWV3LmFkbWluLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBvY3RvcHVzLnJlbmRlckFkbWluRm9ybSgpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgfSxcblxuICBoYW5kbGVDYW5jZWxFdmVudDogKCkgPT4ge1xuICAgIGFkbWluVmlldy5hZG1pbkNhbmNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgYWRtaW5WaWV3LmFkbWluRXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIG9jdG9wdXMudG9nZ2xlQWRtaW5QYW5lbChmYWxzZSk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICB9LFxuXG4gIGhhbmRsZVNhdmVFdmVudDogKCkgPT4ge1xuICAgIGFkbWluVmlldy5hZG1pblNhdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIG9jdG9wdXMubWFuYWdlU2F2ZUV2ZW50KCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICB9LFxuXG4gIHJlbmRlcjogKCkgPT4ge1xuICAgIGNvbnN0IGNhdCA9IG9jdG9wdXMuZ2V0RGlzcGxheUNhdCgpO1xuICAgIGFkbWluVmlldy5jYXROYW1lLnZhbHVlID0gY2F0Lm5hbWU7XG4gICAgYWRtaW5WaWV3LmNhdENsaWNrcy52YWx1ZSA9IGNhdC5jbGlja3M7XG4gICAgYWRtaW5WaWV3LmNhdEF0dHIudmFsdWUgPSBjYXQuaW1nQXR0cjtcbiAgICBvY3RvcHVzLnRvZ2dsZUFkbWluUGFuZWwodHJ1ZSk7XG4gIH1cbn07XG5cbm9jdG9wdXMuaW5pdCgpO1xuIl19

"use strict";var model={catList:["chewie","kathy","kitties","liza","lilly","xuca"],cats:[],displayCat:null,init:function(){var t=!0,e=!1,a=void 0;try{for(var i,n=model.catList[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var c=i.value;model.cats.push({name:c,imgUrl:"img/"+c+".jpg",imgAttr:"https://images.google.com?q=cats+"+c+"%2Ejpg",clicks:0})}}catch(t){e=!0,a=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw a}}}},octopus={init:function(){model.init(),model.displayCat=model.cats[0],listView.init(),catView.init(),adminView.init()},getCatList:function(){return model.catList},getCats:function(){return model.cats},getDisplayCat:function(){return model.displayCat},renderDisplayCat:function(){catView.render()},setDisplayCat:function(t){model.displayCat=model.cats[Number(t)]},incrementClicks:function(){model.displayCat.clicks++},manageSaveEvent:function(){var t={name:adminView.catName.value,clicks:adminView.catClicks.value,imgAttr:adminView.catAttr.value},e=t.name,a=t.clicks,i=t.imgAttr,n={validateName:null===e.match(/^[A-Za-z]{3,}$/g),validateClicks:null===a.match(/^[0-9]{1,}$/),validateUrl:null===i.match(/https?:\/\/.+/g)},c=n.validateName,l=n.validateClicks,o=n.validateUrl;""===e||""===a||""===i?(adminView.adminError.textContent="",adminView.adminError.textContent="Error: Form not complete!!"):c||l||o?(adminView.adminError.textContent="",adminView.adminError.textContent="Error: Form did not validate!",octopus.toggleAdminPanel(!0)):(adminView.adminError.textContent="",octopus.updateCatData(e,Number(a),i),octopus.toggleAdminPanel(!1))},updateCatData:function(t,e,a){t=t.toLowerCase();var i=document.querySelector("#"+model.displayCat.name+"-item");model.displayCat.name=t,model.displayCat.clicks=e,model.displayCat.imgAttr=a,catView.catDisplayName.textContent="",catView.catDisplayName.textContent=t,catView.catClicks.textContent="",catView.catClicks.textContent=t+" clicks: "+e,i.setAttribute("id",""),i.setAttribute("id",t+"-item"),i.textContent="",i.textContent=t},toggleAdminPanel:function(t){adminView.adminForm.style.display=t?"block":"none"},renderAdminForm:function(){adminView.render()}},listView={menu:null,init:function(){listView.menu=document.querySelector(".cat-menu"),listView.render(),listView.handleClicks()},render:function(){var t=octopus.getCatList(),e=0,a=!0,i=!1,n=void 0;try{for(var c,l=t[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var o=c.value,r=document.createElement("LI");r.setAttribute("class","cat-name"),r.setAttribute("data-cat",""+e),r.setAttribute("id",o+"-item"),r.textContent=o,listView.menu.appendChild(r),e++}}catch(t){i=!0,n=t}finally{try{!a&&l.return&&l.return()}finally{if(i)throw n}}},handleClicks:function(){listView.menu.addEventListener("click",function(t){var e=t.target.dataset.cat;e&&(octopus.setDisplayCat(e),octopus.renderDisplayCat(),octopus.toggleAdminPanel(!1))})}},catView={catClicks:null,catDisplayName:null,catContainer:null,catImage:null,init:function(){catView.catClicks=document.querySelector(".cat-clicks"),catView.catDisplayName=document.querySelector(".cat-display-name"),catView.catContainer=document.querySelector(".cat-container"),catView.catImage=document.createElement("IMG"),catView.catImage.setAttribute("class","cat-image"),catView.render(),catView.handleClicks()},render:function(){var t=octopus.getDisplayCat();catView.catDisplayName.textContent=t.name,catView.catClicks.textContent=t.name+" clicks: "+t.clicks,catView.catImage.setAttribute("src",""),catView.catImage.setAttribute("id",""),catView.catImage.setAttribute("alt",""),catView.catImage.setAttribute("src",t.imgUrl),catView.catImage.setAttribute("id",t.name),catView.catImage.setAttribute("alt",t.name+" the cat on Display!"),catView.catContainer.appendChild(catView.catImage)},handleClicks:function(){catView.catContainer.addEventListener("click",function(t){var e=t.target.id,a=octopus.getDisplayCat();e&&(octopus.incrementClicks(),catView.catClicks.textContent=e+" clicks: "+a.clicks)})}},adminView={admin:null,catName:null,catUrl:null,catClicks:null,adminCancel:null,adminSave:null,adminForm:null,adminError:null,init:function(){adminView.admin=document.querySelector("#admin"),adminView.catName=document.querySelector("#cat-name"),adminView.catAttr=document.querySelector("#cat-img-url"),adminView.catClicks=document.querySelector("#cat-admin-clicks"),adminView.adminCancel=document.querySelector("#admin-cancel"),adminView.adminSave=document.querySelector("#admin-save"),adminView.adminForm=document.querySelector(".admin-form"),adminView.adminError=document.querySelector(".error-message"),adminView.handleAdminFormEvent(),adminView.handleAdminEvent(),adminView.handleCancelEvent(),adminView.handleSaveEvent()},handleAdminFormEvent:function(){adminView.adminForm.addEventListener("submit",function(t){t.preventDefault()}),adminView.adminForm.addEventListener("keydown",function(t){13===t.which&&t.preventDefault()})},handleAdminEvent:function(){adminView.admin.addEventListener("click",function(t){octopus.renderAdminForm(),t.preventDefault()})},handleCancelEvent:function(){adminView.adminCancel.addEventListener("click",function(t){adminView.adminError.textContent="",octopus.toggleAdminPanel(!1),t.preventDefault()})},handleSaveEvent:function(){adminView.adminSave.addEventListener("click",function(t){octopus.manageSaveEvent(),t.preventDefault()})},render:function(){var t=octopus.getDisplayCat();adminView.catName.value=t.name,adminView.catClicks.value=t.clicks,adminView.catAttr.value=t.imgAttr,octopus.toggleAdminPanel(!0)}},i=0,main=document.querySelector(".doc-container");main.style.display="none";var fillDots=function t(){var e=document.querySelectorAll("span.dot");setTimeout(function(){e[i].classList.add("fill-dot"),setTimeout(t,0),i++},3e3)};new Promise(function(t){var e=function(){"loading"!==document.readyState&&(console.log(document.readyState),t())};document.addEventListener("readystatechange",e),e(),fillDots()}),setTimeout(function(){var t=document.querySelector(".loading-box");document.body.removeChild(t),octopus.init(),main.style.display="grid"},2e4);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kZWwiLCJjYXRMaXN0IiwiY2F0cyIsImRpc3BsYXlDYXQiLCJpbml0IiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJjYXQiLCJ2YWx1ZSIsInB1c2giLCJuYW1lIiwiaW1nVXJsIiwiaW1nQXR0ciIsImNsaWNrcyIsImVyciIsInJldHVybiIsIm9jdG9wdXMiLCJsaXN0VmlldyIsImNhdFZpZXciLCJhZG1pblZpZXciLCJnZXRDYXRMaXN0IiwiZ2V0Q2F0cyIsImdldERpc3BsYXlDYXQiLCJyZW5kZXJEaXNwbGF5Q2F0IiwicmVuZGVyIiwic2V0RGlzcGxheUNhdCIsIk51bWJlciIsImluY3JlbWVudENsaWNrcyIsIm1hbmFnZVNhdmVFdmVudCIsIl9uYW1lJGNsaWNrcyRpbWdBdHRyIiwiY2F0TmFtZSIsImNhdENsaWNrcyIsImNhdEF0dHIiLCJfdmFsaWRhdGVOYW1lJHZhbGlkYXQiLCJ2YWxpZGF0ZU5hbWUiLCJtYXRjaCIsInZhbGlkYXRlQ2xpY2tzIiwidmFsaWRhdGVVcmwiLCJhZG1pbkVycm9yIiwidGV4dENvbnRlbnQiLCJ0b2dnbGVBZG1pblBhbmVsIiwidXBkYXRlQ2F0RGF0YSIsInRvTG93ZXJDYXNlIiwibGlzdEl0ZW0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjYXREaXNwbGF5TmFtZSIsInNldEF0dHJpYnV0ZSIsInZpc2libGUiLCJhZG1pbkZvcm0iLCJzdHlsZSIsImRpc3BsYXkiLCJyZW5kZXJBZG1pbkZvcm0iLCJtZW51IiwiaGFuZGxlQ2xpY2tzIiwiaSIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yIiwiX2RpZEl0ZXJhdG9yRXJyb3IyIiwiX2l0ZXJhdG9yRXJyb3IyIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsIlRBUkdFVCIsInRhcmdldCIsImRhdGFzZXQiLCJjYXRDb250YWluZXIiLCJjYXRJbWFnZSIsImlkIiwiYWRtaW4iLCJjYXRVcmwiLCJhZG1pbkNhbmNlbCIsImFkbWluU2F2ZSIsImhhbmRsZUFkbWluRm9ybUV2ZW50IiwiaGFuZGxlQWRtaW5FdmVudCIsImhhbmRsZUNhbmNlbEV2ZW50IiwiaGFuZGxlU2F2ZUV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ3aGljaCIsIm1haW4iLCJmaWxsRG90cyIsImRvdHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2V0VGltZW91dCIsImNsYXNzTGlzdCIsImFkZCIsIlByb21pc2UiLCJyZXNvbHZlIiwiY2hlY2tTdGF0ZSIsInJlYWR5U3RhdGUiLCJjb25zb2xlIiwibG9nIiwibG9hZGluQm94IiwiYm9keSIsInJlbW92ZUNoaWxkIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUlBLElBQUlBLE1BQVEsQ0FDVkMsUUFBUyxDQUFDLFNBQVUsUUFBUyxVQUFXLE9BQVEsUUFBUyxRQUN6REMsS0FBTSxHQUNOQyxXQUFZLEtBRVpDLEtBQU0sV0FBTSxJQUFBQyxHQUFBLEVBQUFDLEdBQUEsRUFBQUMsT0FBQUMsRUFBQSxJQUNWLElBQUEsSUFBQUMsRUFBQUMsRUFBa0JWLE1BQU1DLFFBQXhCVSxPQUFBQyxjQUFBUCxHQUFBSSxFQUFBQyxFQUFBRyxRQUFBQyxNQUFBVCxHQUFBLEVBQWlDLENBQUEsSUFBdEJVLEVBQXNCTixFQUFBTyxNQUMvQmhCLE1BQU1FLEtBQUtlLEtBQUssQ0FDZEMsS0FBTUgsRUFDTkksT0FBQUEsT0FBZUosRUFBZixPQUNBSyxRQUFBQSxvQ0FBNkNMLEVBQTdDLFNBQ0FNLE9BQVEsS0FORixNQUFBQyxHQUFBaEIsR0FBQSxFQUFBQyxFQUFBZSxFQUFBLFFBQUEsS0FBQWpCLEdBQUFLLEVBQUFhLFFBQUFiLEVBQUFhLFNBQUEs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ICovXG5cbmxldCBtb2RlbCA9IHtcbiAgY2F0TGlzdDogWydjaGV3aWUnLCAna2F0aHknLCAna2l0dGllcycsICdsaXphJywgJ2xpbGx5JywgJ3h1Y2EnXSxcbiAgY2F0czogW10sXG4gIGRpc3BsYXlDYXQ6IG51bGwsXG5cbiAgaW5pdDogKCkgPT4ge1xuICAgIGZvciAoY29uc3QgY2F0IG9mIG1vZGVsLmNhdExpc3QpIHtcbiAgICAgIG1vZGVsLmNhdHMucHVzaCh7XG4gICAgICAgIG5hbWU6IGNhdCxcbiAgICAgICAgaW1nVXJsOiBgaW1nLyR7Y2F0fS5qcGdgLFxuICAgICAgICBpbWdBdHRyOiBgaHR0cHM6Ly9pbWFnZXMuZ29vZ2xlLmNvbT9xPWNhdHMrJHtjYXR9JTJFanBnYCxcbiAgICAgICAgY2xpY2tzOiAwXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG5cbmxldCBvY3RvcHVzID0ge1xuICBpbml0OiAoKSA9PiB7XG4gICAgbW9kZWwuaW5pdCgpO1xuICAgIG1vZGVsLmRpc3BsYXlDYXQgPSBtb2RlbC5jYXRzWzBdO1xuICAgIGxpc3RWaWV3LmluaXQoKTtcbiAgICBjYXRWaWV3LmluaXQoKTtcbiAgICBhZG1pblZpZXcuaW5pdCgpO1xuICB9LFxuXG4gIGdldENhdExpc3Q6ICgpID0+IHtcbiAgICByZXR1cm4gbW9kZWwuY2F0TGlzdDtcbiAgfSxcblxuICBnZXRDYXRzOiAoKSA9PiB7XG4gICAgcmV0dXJuIG1vZGVsLmNhdHM7XG4gIH0sXG5cbiAgZ2V0RGlzcGxheUNhdDogKCkgPT4ge1xuICAgIHJldHVybiBtb2RlbC5kaXNwbGF5Q2F0O1xuICB9LFxuXG4gIHJlbmRlckRpc3BsYXlDYXQ6ICgpID0+IHtcbiAgICBjYXRWaWV3LnJlbmRlcigpO1xuICB9LFxuXG4gIHNldERpc3BsYXlDYXQ6IChjYXQpID0+IHtcbiAgICBtb2RlbC5kaXNwbGF5Q2F0ID0gbW9kZWwuY2F0c1tOdW1iZXIoY2F0KV07XG4gIH0sXG5cbiAgaW5jcmVtZW50Q2xpY2tzOiAoKSA9PiB7XG4gICAgbW9kZWwuZGlzcGxheUNhdC5jbGlja3MrKztcbiAgfSxcblxuICBtYW5hZ2VTYXZlRXZlbnQ6ICgpID0+IHtcbiAgICBjb25zdCB7bmFtZSwgY2xpY2tzLCBpbWdBdHRyfSA9IHtcbiAgICAgIG5hbWU6IGFkbWluVmlldy5jYXROYW1lLnZhbHVlLFxuICAgICAgY2xpY2tzOiBhZG1pblZpZXcuY2F0Q2xpY2tzLnZhbHVlLFxuICAgICAgaW1nQXR0cjogYWRtaW5WaWV3LmNhdEF0dHIudmFsdWVcbiAgICB9O1xuXG4gICAgY29uc3Qge3ZhbGlkYXRlTmFtZSwgdmFsaWRhdGVDbGlja3MsIHZhbGlkYXRlVXJsfSA9IHtcbiAgICAgIHZhbGlkYXRlTmFtZTogbmFtZS5tYXRjaCgvXltBLVphLXpdezMsfSQvZykgPT09IG51bGwsXG4gICAgICB2YWxpZGF0ZUNsaWNrczogY2xpY2tzLm1hdGNoKC9eWzAtOV17MSx9JC8pID09PSBudWxsLFxuICAgICAgdmFsaWRhdGVVcmw6IGltZ0F0dHIubWF0Y2goL2h0dHBzPzpcXC9cXC8uKy9nKSA9PT0gbnVsbFxuICAgIH07XG5cbiAgICBpZiAobmFtZSA9PT0gJycgfHwgY2xpY2tzID09PSAnJyB8fCBpbWdBdHRyID09PSAnJykge1xuICAgICAgYWRtaW5WaWV3LmFkbWluRXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIGFkbWluVmlldy5hZG1pbkVycm9yLnRleHRDb250ZW50ID0gJ0Vycm9yOiBGb3JtIG5vdCBjb21wbGV0ZSEhJztcbiAgICB9IGVsc2UgaWYgKHZhbGlkYXRlTmFtZSB8fCB2YWxpZGF0ZUNsaWNrcyB8fCB2YWxpZGF0ZVVybCkge1xuICAgICAgYWRtaW5WaWV3LmFkbWluRXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIGFkbWluVmlldy5hZG1pbkVycm9yLnRleHRDb250ZW50ID0gJ0Vycm9yOiBGb3JtIGRpZCBub3QgdmFsaWRhdGUhJztcbiAgICAgIG9jdG9wdXMudG9nZ2xlQWRtaW5QYW5lbCh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWRtaW5WaWV3LmFkbWluRXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIG9jdG9wdXMudXBkYXRlQ2F0RGF0YShuYW1lLCBOdW1iZXIoY2xpY2tzKSwgaW1nQXR0cik7XG4gICAgICBvY3RvcHVzLnRvZ2dsZUFkbWluUGFuZWwoZmFsc2UpO1xuICAgIH1cbiAgfSxcblxuICB1cGRhdGVDYXREYXRhOiAobmFtZSwgY2xpY2tzLCBpbWdBdHRyKSA9PiB7XG4gICAgbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBsaXN0SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke21vZGVsLmRpc3BsYXlDYXQubmFtZX0taXRlbWApO1xuICAgIG1vZGVsLmRpc3BsYXlDYXQubmFtZSA9IG5hbWU7XG4gICAgbW9kZWwuZGlzcGxheUNhdC5jbGlja3MgPSBjbGlja3M7XG4gICAgbW9kZWwuZGlzcGxheUNhdC5pbWdBdHRyID0gaW1nQXR0cjtcbiAgICBjYXRWaWV3LmNhdERpc3BsYXlOYW1lLnRleHRDb250ZW50ID0gJyc7XG4gICAgY2F0Vmlldy5jYXREaXNwbGF5TmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgY2F0Vmlldy5jYXRDbGlja3MudGV4dENvbnRlbnQgPSAnJztcbiAgICBjYXRWaWV3LmNhdENsaWNrcy50ZXh0Q29udGVudCA9IGAke25hbWV9IGNsaWNrczogJHtjbGlja3N9YDtcbiAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2lkJywgJycpO1xuICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnaWQnLCBgJHtuYW1lfS1pdGVtYCk7XG4gICAgbGlzdEl0ZW0udGV4dENvbnRlbnQgPSAnJztcbiAgICBsaXN0SXRlbS50ZXh0Q29udGVudCA9IG5hbWU7XG4gIH0sXG5cbiAgdG9nZ2xlQWRtaW5QYW5lbDogKHZpc2libGUpID0+IHtcbiAgICAodmlzaWJsZSkgPyBhZG1pblZpZXcuYWRtaW5Gb3JtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCIgOlxuICAgICAgYWRtaW5WaWV3LmFkbWluRm9ybS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIH0sXG5cbiAgcmVuZGVyQWRtaW5Gb3JtOiAoKSA9PiB7XG4gICAgYWRtaW5WaWV3LnJlbmRlcigpO1xuICB9XG59O1xuXG5cbmxldCBsaXN0VmlldyA9IHtcbiAgbWVudTogbnVsbCxcblxuICBpbml0OiAoKSA9PiB7XG4gICAgbGlzdFZpZXcubWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXQtbWVudScpO1xuICAgIGxpc3RWaWV3LnJlbmRlcigpO1xuICAgIGxpc3RWaWV3LmhhbmRsZUNsaWNrcygpO1xuICB9LFxuXG4gIHJlbmRlcjogKCkgPT4ge1xuICAgIGNvbnN0IGNhdExpc3QgPSBvY3RvcHVzLmdldENhdExpc3QoKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yIChjb25zdCBjYXQgb2YgY2F0TGlzdCkge1xuICAgICAgY29uc3QgbGlzdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdMSScpO1xuICAgICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjYXQtbmFtZScpO1xuICAgICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWNhdCcsIGAke2l9YCk7XG4gICAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2lkJywgYCR7Y2F0fS1pdGVtYCk7XG4gICAgICBsaXN0SXRlbS50ZXh0Q29udGVudCA9IGNhdDtcbiAgICAgIGxpc3RWaWV3Lm1lbnUuYXBwZW5kQ2hpbGQobGlzdEl0ZW0pO1xuICAgICAgaSsrO1xuICAgIH1cbiAgfSxcblxuICBoYW5kbGVDbGlja3M6ICgpID0+IHtcbiAgICBsaXN0Vmlldy5tZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBUQVJHRVQgPSBldmVudC50YXJnZXQuZGF0YXNldC5jYXQ7XG4gICAgICBpZiAoVEFSR0VUKSB7XG4gICAgICAgIG9jdG9wdXMuc2V0RGlzcGxheUNhdChUQVJHRVQpO1xuICAgICAgICBvY3RvcHVzLnJlbmRlckRpc3BsYXlDYXQoKTtcbiAgICAgICAgb2N0b3B1cy50b2dnbGVBZG1pblBhbmVsKGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxubGV0IGNhdFZpZXcgPSB7XG4gIGNhdENsaWNrczogbnVsbCxcbiAgY2F0RGlzcGxheU5hbWU6IG51bGwsXG4gIGNhdENvbnRhaW5lcjogbnVsbCxcbiAgY2F0SW1hZ2U6IG51bGwsXG5cbiAgaW5pdDogKCkgPT4ge1xuICAgIGNhdFZpZXcuY2F0Q2xpY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdC1jbGlja3MnKTtcbiAgICBjYXRWaWV3LmNhdERpc3BsYXlOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdC1kaXNwbGF5LW5hbWUnKTtcbiAgICBjYXRWaWV3LmNhdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXQtY29udGFpbmVyJyk7XG4gICAgY2F0Vmlldy5jYXRJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0lNRycpO1xuICAgIGNhdFZpZXcuY2F0SW1hZ2Uuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjYXQtaW1hZ2UnKTtcbiAgICBjYXRWaWV3LnJlbmRlcigpO1xuICAgIGNhdFZpZXcuaGFuZGxlQ2xpY2tzKCk7XG4gIH0sXG5cbiAgcmVuZGVyOiAoKSA9PiB7XG4gICAgY29uc3QgY2F0ID0gb2N0b3B1cy5nZXREaXNwbGF5Q2F0KCk7XG4gICAgY2F0Vmlldy5jYXREaXNwbGF5TmFtZS50ZXh0Q29udGVudCA9IGNhdC5uYW1lO1xuICAgIGNhdFZpZXcuY2F0Q2xpY2tzLnRleHRDb250ZW50ID0gYCR7Y2F0Lm5hbWV9IGNsaWNrczogJHtjYXQuY2xpY2tzfWA7XG4gICAgY2F0Vmlldy5jYXRJbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsICcnKTtcbiAgICBjYXRWaWV3LmNhdEltYWdlLnNldEF0dHJpYnV0ZSgnaWQnLCAnJyk7XG4gICAgY2F0Vmlldy5jYXRJbWFnZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsICcnKTtcbiAgICBjYXRWaWV3LmNhdEltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgY2F0LmltZ1VybCk7XG4gICAgY2F0Vmlldy5jYXRJbWFnZS5zZXRBdHRyaWJ1dGUoJ2lkJywgY2F0Lm5hbWUpO1xuICAgIGNhdFZpZXcuY2F0SW1hZ2Uuc2V0QXR0cmlidXRlKCdhbHQnLCBgJHtjYXQubmFtZX0gdGhlIGNhdCBvbiBEaXNwbGF5IWApO1xuICAgIGNhdFZpZXcuY2F0Q29udGFpbmVyLmFwcGVuZENoaWxkKGNhdFZpZXcuY2F0SW1hZ2UpO1xuICB9LFxuXG4gIGhhbmRsZUNsaWNrczogKCkgPT4ge1xuICAgIGNhdFZpZXcuY2F0Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBUQVJHRVQgPSBldmVudC50YXJnZXQuaWQsXG4gICAgICAgIGNhdCA9IG9jdG9wdXMuZ2V0RGlzcGxheUNhdCgpO1xuICAgICAgaWYgKFRBUkdFVCkge1xuICAgICAgICBvY3RvcHVzLmluY3JlbWVudENsaWNrcygpO1xuICAgICAgICBjYXRWaWV3LmNhdENsaWNrcy50ZXh0Q29udGVudCA9IGAke1RBUkdFVH0gY2xpY2tzOiAke2NhdC5jbGlja3N9YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxubGV0IGFkbWluVmlldyA9IHtcbiAgYWRtaW46IG51bGwsXG4gIGNhdE5hbWU6IG51bGwsXG4gIGNhdFVybDogbnVsbCxcbiAgY2F0Q2xpY2tzOiBudWxsLFxuICBhZG1pbkNhbmNlbDogbnVsbCxcbiAgYWRtaW5TYXZlOiBudWxsLFxuICBhZG1pbkZvcm06IG51bGwsXG4gIGFkbWluRXJyb3I6IG51bGwsXG5cbiAgaW5pdDogKCkgPT4ge1xuICAgIGFkbWluVmlldy5hZG1pbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZG1pbicpO1xuICAgIGFkbWluVmlldy5jYXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhdC1uYW1lJyk7XG4gICAgYWRtaW5WaWV3LmNhdEF0dHIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2F0LWltZy11cmwnKTtcbiAgICBhZG1pblZpZXcuY2F0Q2xpY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhdC1hZG1pbi1jbGlja3MnKTtcbiAgICBhZG1pblZpZXcuYWRtaW5DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRtaW4tY2FuY2VsJyk7XG4gICAgYWRtaW5WaWV3LmFkbWluU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZG1pbi1zYXZlJyk7XG4gICAgYWRtaW5WaWV3LmFkbWluRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbi1mb3JtJyk7XG4gICAgYWRtaW5WaWV3LmFkbWluRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItbWVzc2FnZScpO1xuICAgIGFkbWluVmlldy5oYW5kbGVBZG1pbkZvcm1FdmVudCgpO1xuICAgIGFkbWluVmlldy5oYW5kbGVBZG1pbkV2ZW50KCk7XG4gICAgYWRtaW5WaWV3LmhhbmRsZUNhbmNlbEV2ZW50KCk7XG4gICAgYWRtaW5WaWV3LmhhbmRsZVNhdmVFdmVudCgpO1xuICB9LFxuXG4gIGhhbmRsZUFkbWluRm9ybUV2ZW50OiAoKSA9PiB7XG4gICAgYWRtaW5WaWV3LmFkbWluRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgYWRtaW5WaWV3LmFkbWluRm9ybS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAoZXZlbnQud2hpY2ggPT09IDEzKSAmJiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICB9LFxuXG4gIGhhbmRsZUFkbWluRXZlbnQ6ICgpID0+IHtcbiAgICBhZG1pblZpZXcuYWRtaW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIG9jdG9wdXMucmVuZGVyQWRtaW5Gb3JtKCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICB9LFxuXG4gIGhhbmRsZUNhbmNlbEV2ZW50OiAoKSA9PiB7XG4gICAgYWRtaW5WaWV3LmFkbWluQ2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBhZG1pblZpZXcuYWRtaW5FcnJvci50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgb2N0b3B1cy50b2dnbGVBZG1pblBhbmVsKGZhbHNlKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgaGFuZGxlU2F2ZUV2ZW50OiAoKSA9PiB7XG4gICAgYWRtaW5WaWV3LmFkbWluU2F2ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgb2N0b3B1cy5tYW5hZ2VTYXZlRXZlbnQoKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgcmVuZGVyOiAoKSA9PiB7XG4gICAgY29uc3QgY2F0ID0gb2N0b3B1cy5nZXREaXNwbGF5Q2F0KCk7XG4gICAgYWRtaW5WaWV3LmNhdE5hbWUudmFsdWUgPSBjYXQubmFtZTtcbiAgICBhZG1pblZpZXcuY2F0Q2xpY2tzLnZhbHVlID0gY2F0LmNsaWNrcztcbiAgICBhZG1pblZpZXcuY2F0QXR0ci52YWx1ZSA9IGNhdC5pbWdBdHRyO1xuICAgIG9jdG9wdXMudG9nZ2xlQWRtaW5QYW5lbCh0cnVlKTtcbiAgfVxufTtcblxubGV0IGkgPSAwLCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRvYy1jb250YWluZXInKTtcblxubWFpbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG5jb25zdCBmaWxsRG90cyA9ICgpID0+IHtcbiAgY29uc3QgZG90cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uZG90Jyk7XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGRvdHNbaV0uY2xhc3NMaXN0LmFkZCgnZmlsbC1kb3QnKTtcbiAgICBzZXRUaW1lb3V0KGZpbGxEb3RzLCAwKTtcbiAgICBpKys7XG4gIH0sIDMwMDApO1xufTtcblxubmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICBjb25zdCBjaGVja1N0YXRlID0gKCkgPT4ge1xuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9PSAnbG9hZGluZycpIHtcbiAgICAgIGNvbnNvbGUubG9nKGRvY3VtZW50LnJlYWR5U3RhdGUpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH1cbiAgfTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIGNoZWNrU3RhdGUpO1xuICBjaGVja1N0YXRlKCk7XG4gIGZpbGxEb3RzKCk7XG59KTtcblxuc2V0VGltZW91dCgoKSA9PiB7XG4gIGNvbnN0IGxvYWRpbkJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkaW5nLWJveCcpO1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxvYWRpbkJveCk7XG4gIG9jdG9wdXMuaW5pdCgpO1xuICBtYWluLnN0eWxlLmRpc3BsYXkgPSAnZ3JpZCc7XG59LCAyMDAwMCk7XG4iXX0=
